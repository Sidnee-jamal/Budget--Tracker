<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Set Budget - Budget Tracker</title>
  <link rel="stylesheet" href="../css/style.css" />
</head>
<body>
  <form class="registration-form" id="set-budget-form">
    <h2>Set Budget</h2>

    <div class="input-box">
      <label for="category">Category</label>
      <input type="text" id="category" name="category" required />
    </div>

    <div class="input-box">
      <label for="amount">Amount</label>
      <input type="number" id="amount" name="amount" min="0" required />
    </div>

    <div class="input-box">
      <label for="month">Month</label>
      <select id="month" name="month" required>
        <option value="">Select Month</option>
        <option value="January">January</option>
        <option value="February">February</option>
        <option value="March">March</option>
        <option value="April">April</option>
        <option value="May">May</option>
        <option value="June">June</option>
        <option value="July">July</option>
        <option value="August">August</option>
        <option value="September">September</option>
        <option value="October">October</option>
        <option value="November">November</option>
        <option value="December">December</option>
      </select>
    </div>

    <div class="input-box">
      <label for="year">Year</label>
      <select id="year" name="year" required>
        <option value="">Select Year</option>
        <!-- Years will be populated by JS -->
      </select>
    </div>

    <button type="submit">Set Budget</button>

    <div class="login-link">
      <a href="#">Back to Dashboard</a>
    </div>
  </form>

  <script>
    // Dynamically populate year options starting from 2000 onwards (no upper limit)
    const yearSelect = document.getElementById("year");
    const startYear = 2000;  // Starting year
    const currentYear = new Date().getFullYear();

    // Populate the year dropdown with relevant years (current year + 5 years)
    for (let i = startYear; i <= currentYear + 5; i++) {
      const option = document.createElement("option");
      option.value = i;
      option.textContent = i;
      yearSelect.appendChild(option);
    }

    // Simple validation feedback
    document.getElementById("set-budget-form").addEventListener("submit", function (e) {
      e.preventDefault();
      const category = document.getElementById("category").value;
      const amount = parseFloat(document.getElementById("amount").value);
      const month = document.getElementById("month").value;
      const year = document.getElementById("year").value;

      if (category && !isNaN(amount) && month && year) {
        alert("Budget set successfully!");
        this.reset();
      } else {
        alert("Please fill in all fields correctly.");
      }
    });
  </script>
</body>
</html>